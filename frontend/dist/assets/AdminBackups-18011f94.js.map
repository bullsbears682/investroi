{"version":3,"file":"AdminBackups-18011f94.js","sources":["../../src/pages/AdminBackups.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { ArrowLeft, HardDrive, Download, CheckCircle, Trash2, RefreshCw, X, Eye, AlertCircle } from 'lucide-react';\nimport AdminMenu from '../components/AdminMenu';\n\ninterface Backup {\n  timestamp: number;\n  backupId: string;\n  data: string;\n  metadata: {\n    totalRecords: number;\n    backupSize: string;\n    compressionRatio: string;\n    encryptionStatus: string;\n    integrityChecksum: string;\n    originalSize: string;\n    compressedSize: string;\n    encryptedSize: string;\n  };\n  checksum: string;\n}\n\nconst AdminBackups: React.FC = () => {\n  const navigate = useNavigate();\n  const [backups, setBackups] = useState<Backup[]>([]);\n  const [selectedBackup, setSelectedBackup] = useState<Backup | null>(null);\n  const [isDetailsModalOpen, setIsDetailsModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [isRestoreModalOpen, setIsRestoreModalOpen] = useState(false);\n  const [backupToDelete, setBackupToDelete] = useState<Backup | null>(null);\n  const [backupToRestore, setBackupToRestore] = useState<Backup | null>(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n\n  useEffect(() => {\n    loadBackups();\n    const onStorage = (e: StorageEvent) => {\n      if (e.key === 'databaseBackups') {\n        loadBackups();\n      }\n    };\n    const onBackupsUpdated = () => loadBackups();\n    window.addEventListener('storage', onStorage);\n    window.addEventListener('backupsUpdated', onBackupsUpdated as EventListener);\n    return () => {\n      window.removeEventListener('storage', onStorage);\n      window.removeEventListener('backupsUpdated', onBackupsUpdated as EventListener);\n    };\n  }, []);\n\n  const createBackupNow = () => {\n    try {\n      const backupId = `backup-${Date.now()}`;\n      const backupDataObj: any = {\n        users: JSON.parse(localStorage.getItem('registered_users') || '[]'),\n        contacts: JSON.parse(localStorage.getItem('contact_submissions') || '[]'),\n        chatMessages: JSON.parse(localStorage.getItem('chatMessages') || '[]'),\n        otherData: {}\n      };\n      const jsonString = JSON.stringify(backupDataObj);\n      const compressedSize = jsonString.length;\n      const originalSize = jsonString.length * 1.2;\n      const compressionRatio = Math.round((1 - compressedSize / originalSize) * 100);\n      const encrypted = btoa(jsonString);\n      let checksum = 0;\n      for (let i = 0; i < encrypted.length; i++) checksum += encrypted.charCodeAt(i);\n      checksum = checksum % 1000000;\n      const backup: Backup = {\n        timestamp: Date.now(),\n        backupId,\n        data: encrypted,\n        metadata: {\n          totalRecords: backupDataObj.users.length + backupDataObj.contacts.length + backupDataObj.chatMessages.length,\n          backupSize: `${(compressedSize / 1024).toFixed(1)} KB`,\n          compressionRatio: `${compressionRatio}%`,\n          encryptionStatus: 'Encrypted',\n          integrityChecksum: checksum.toString().padStart(6, '0'),\n          originalSize: `${(originalSize / 1024).toFixed(1)} KB`,\n          compressedSize: `${(compressedSize / 1024).toFixed(1)} KB`,\n          encryptedSize: `${(encrypted.length / 1024).toFixed(1)} KB`\n        },\n        checksum: checksum.toString().padStart(6, '0')\n      };\n      const existingBackups = JSON.parse(localStorage.getItem('databaseBackups') || '[]');\n      existingBackups.unshift(backup);\n      localStorage.setItem('databaseBackups', JSON.stringify(existingBackups.slice(0, 10)));\n      window.dispatchEvent(new CustomEvent('backupsUpdated'));\n      alert('Backup created successfully.');\n      loadBackups();\n    } catch (err) {\n      console.error('Create backup failed:', err);\n      alert('Failed to create backup.');\n    }\n  };\n\n  const loadBackups = () => {\n    try {\n      const storedBackups = localStorage.getItem('databaseBackups');\n      if (storedBackups) {\n        setBackups(JSON.parse(storedBackups));\n      }\n    } catch (error) {\n      console.error('Failed to load backups:', error);\n    }\n  };\n\n  const handleRestoreBackup = async (backup: Backup) => {\n    setBackupToRestore(backup);\n    setIsRestoreModalOpen(true);\n  };\n\n  const confirmRestoreBackup = async () => {\n    if (!backupToRestore) return;\n\n    setIsLoading(true);\n    try {\n      // Simulate restore process\n      await new Promise(resolve => setTimeout(resolve, 2000));\n      \n      // Parse backup data and restore to localStorage\n      const backupData = JSON.parse(backupToRestore.data);\n      \n      // Restore users\n      if (backupData.users) {\n        localStorage.setItem('registered_users', JSON.stringify(backupData.users));\n      }\n      \n      // Restore contacts\n      if (backupData.contacts) {\n        localStorage.setItem('contact_submissions', JSON.stringify(backupData.contacts));\n      }\n      \n      // Restore chat messages\n      if (backupData.chatMessages) {\n        localStorage.setItem('chatMessages', JSON.stringify(backupData.chatMessages));\n      }\n      \n      // Restore other data\n      if (backupData.otherData) {\n        Object.keys(backupData.otherData).forEach(key => {\n          localStorage.setItem(key, JSON.stringify(backupData.otherData[key]));\n        });\n      }\n\n      // Show success message\n      alert('Backup restored successfully! The application data has been updated.');\n      \n      // Refresh the page to show restored data\n      window.location.reload();\n      \n    } catch (error) {\n      console.error('Failed to restore backup:', error);\n      alert('Failed to restore backup. Please try again.');\n    } finally {\n      setIsLoading(false);\n      setIsRestoreModalOpen(false);\n      setBackupToRestore(null);\n    }\n  };\n\n  const handleDeleteBackup = (backup: Backup) => {\n    setBackupToDelete(backup);\n    setIsDeleteModalOpen(true);\n  };\n\n  const confirmDeleteBackup = () => {\n    if (!backupToDelete) return;\n\n    try {\n      // Remove backup from localStorage\n      const updatedBackups = backups.filter(b => b.backupId !== backupToDelete.backupId);\n      localStorage.setItem('databaseBackups', JSON.stringify(updatedBackups));\n      \n      // Update state\n      setBackups(updatedBackups);\n      \n      // Show success message\n      alert('Backup deleted successfully!');\n      \n    } catch (error) {\n      console.error('Failed to delete backup:', error);\n      alert('Failed to delete backup. Please try again.');\n    } finally {\n      setIsDeleteModalOpen(false);\n      setBackupToDelete(null);\n    }\n  };\n\n  const handleDownloadBackup = (backup: Backup) => {\n    try {\n      const backupData = {\n        backupInfo: {\n          backupId: backup.backupId,\n          timestamp: new Date(backup.timestamp).toISOString(),\n          generatedBy: 'Admin Dashboard',\n          version: '1.0'\n        },\n        metadata: backup.metadata,\n        checksum: backup.checksum,\n        data: backup.data // Include the actual backup data\n      };\n\n      const dataStr = JSON.stringify(backupData, null, 2);\n      const dataBlob = new Blob([dataStr], { type: 'application/json' });\n      const url = window.URL.createObjectURL(dataBlob);\n      const link = document.createElement('a');\n      link.href = url;\n      link.download = `backup-${backup.backupId}-${new Date(backup.timestamp).toISOString().split('T')[0]}.json`;\n      document.body.appendChild(link);\n      link.click();\n      document.body.removeChild(link);\n      window.URL.revokeObjectURL(url);\n      \n      // Show success message\n      alert('Backup downloaded successfully!');\n      \n    } catch (error) {\n      console.error('Failed to download backup:', error);\n      alert('Failed to download backup. Please try again.');\n    }\n  };\n\n  const handleViewDetails = (backup: Backup) => {\n    setSelectedBackup(backup);\n    setIsDetailsModalOpen(true);\n  };\n\n  const closeModal = () => {\n    setSelectedBackup(null);\n    setIsDetailsModalOpen(false);\n    setIsDeleteModalOpen(false);\n    setIsRestoreModalOpen(false);\n    setBackupToDelete(null);\n    setBackupToRestore(null);\n  };\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900\">\n      {/* Admin Menu */}\n      <AdminMenu isOpen={isMenuOpen} onToggle={() => setIsMenuOpen(!isMenuOpen)} />\n      \n      {/* Header */}\n      <div className=\"bg-white/10 backdrop-blur-xl border-b border-white/20 lg:ml-64\">\n        <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n          <div className=\"flex items-center justify-between h-16\">\n            <div className=\"flex items-center space-x-2 sm:space-x-4\">\n              <button\n                onClick={() => navigate('/admin')}\n                className=\"flex items-center space-x-1 sm:space-x-2 text-white/80 hover:text-white transition-colors p-2 sm:p-0\"\n              >\n                <ArrowLeft size={18} className=\"sm:w-5 sm:h-5\" />\n                <span className=\"hidden sm:inline\">Back to Dashboard</span>\n                <span className=\"sm:hidden\">Back</span>\n              </button>\n            </div>\n            <div className=\"flex items-center space-x-2 sm:space-x-4\">\n              <h1 className=\"text-lg sm:text-2xl font-bold text-white flex items-center space-x-2\">\n                <HardDrive size={24} className=\"sm:w-7 sm:h-7\" />\n                <span className=\"hidden sm:inline\">Backup Management</span>\n                <span className=\"sm:hidden\">Backups</span>\n              </h1>\n              <button\n                onClick={createBackupNow}\n                className=\"px-3 py-1.5 bg-white/10 hover:bg-white/20 border border-white/20 rounded-lg text-white text-sm\"\n                title=\"Create a new backup\"\n              >\n                Create Backup\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Main Content */}\n      <div className=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-4 sm:py-8 lg:ml-64\">\n        {/* Backup Statistics */}\n        <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6 mb-6 sm:mb-8\">\n          <div className=\"bg-white/10 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-white/20\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-white/60 text-xs sm:text-sm font-medium\">Total Backups</p>\n                <p className=\"text-2xl sm:text-3xl font-bold text-white\">{backups.length}</p>\n              </div>\n              <div className=\"bg-blue-500/20 p-2 sm:p-3 rounded-lg sm:rounded-xl\">\n                <HardDrive className=\"text-blue-400 sm:w-6 sm:h-6\" size={20} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white/10 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-white/20\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-white/60 text-xs sm:text-sm font-medium\">Latest Backup</p>\n                <p className=\"text-sm sm:text-lg font-bold text-white\">\n                  {backups.length > 0 \n                    ? new Date(backups[backups.length - 1].timestamp).toLocaleDateString()\n                    : 'No backups'\n                  }\n                </p>\n              </div>\n              <div className=\"bg-green-500/20 p-2 sm:p-3 rounded-lg sm:rounded-xl\">\n                <CheckCircle className=\"text-green-400 sm:w-6 sm:h-6\" size={20} />\n              </div>\n            </div>\n          </div>\n\n          <div className=\"bg-white/10 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-white/20 sm:col-span-2 lg:col-span-1\">\n            <div className=\"flex items-center justify-between\">\n              <div>\n                <p className=\"text-white/60 text-xs sm:text-sm font-medium\">Storage Used</p>\n                <p className=\"text-sm sm:text-lg font-bold text-white\">\n                  {backups.length > 0 \n                    ? `${(backups.reduce((sum, backup) => sum + parseFloat(backup.metadata.compressedSize.replace(' KB', '')), 0) / 1024).toFixed(2)} MB`\n                    : '0 MB'\n                  }\n                </p>\n              </div>\n              <div className=\"bg-purple-500/20 p-2 sm:p-3 rounded-lg sm:rounded-xl\">\n                <Download className=\"text-purple-400 sm:w-6 sm:h-6\" size={20} />\n              </div>\n            </div>\n          </div>\n        </div>\n\n        {/* Backup List */}\n        <div className=\"bg-white/10 backdrop-blur-xl rounded-xl sm:rounded-2xl p-4 sm:p-6 border border-white/20\">\n          <div className=\"flex flex-col sm:flex-row sm:items-center justify-between mb-4 sm:mb-6 space-y-3 sm:space-y-0\">\n            <h3 className=\"text-lg sm:text-xl font-semibold text-white\">Backup History</h3>\n            <button\n              onClick={loadBackups}\n              className=\"flex items-center justify-center space-x-2 px-3 sm:px-4 py-2 bg-white/10 hover:bg-white/20 rounded-lg text-white transition-colors w-full sm:w-auto\"\n            >\n              <RefreshCw size={16} />\n              <span>Refresh</span>\n            </button>\n          </div>\n\n          {backups.length === 0 ? (\n            <div className=\"text-center py-8 sm:py-12\">\n              <HardDrive className=\"mx-auto text-white/40 sm:w-12 sm:h-12\" size={40} />\n              <p className=\"text-white/60 mt-4 text-base sm:text-lg\">No backups found</p>\n              <p className=\"text-white/40 mt-2 text-sm sm:text-base\">Create your first backup from the main dashboard</p>\n            </div>\n          ) : (\n            <div className=\"space-y-3 sm:space-y-4\">\n              {backups.map((backup) => (\n                <div key={backup.backupId} className=\"bg-white/5 rounded-lg sm:rounded-xl p-3 sm:p-4 border border-white/10\">\n                  <div className=\"flex flex-col sm:flex-row sm:items-center justify-between space-y-3 sm:space-y-0\">\n                    <div className=\"flex-1 min-w-0\">\n                      <div className=\"flex flex-col sm:flex-row sm:items-center space-y-2 sm:space-y-0 sm:space-x-3 mb-2\">\n                        <h4 className=\"text-white font-medium text-sm sm:text-base truncate\">{backup.backupId}</h4>\n                        <span className=\"px-2 py-1 bg-green-500/20 text-green-400 rounded-full text-xs font-medium w-fit\">\n                          Successful\n                        </span>\n                      </div>\n                      \n                      {/* Mobile Layout */}\n                      <div className=\"sm:hidden space-y-2\">\n                        <div className=\"grid grid-cols-2 gap-2 text-xs\">\n                          <div>\n                            <span className=\"text-white/60\">Date:</span>\n                            <p className=\"text-white\">{new Date(backup.timestamp).toLocaleDateString()}</p>\n                          </div>\n                          <div>\n                            <span className=\"text-white/60\">Time:</span>\n                            <p className=\"text-white\">{new Date(backup.timestamp).toLocaleTimeString()}</p>\n                          </div>\n                          <div>\n                            <span className=\"text-white/60\">Size:</span>\n                            <p className=\"text-white\">{backup.metadata.compressedSize}</p>\n                          </div>\n                          <div>\n                            <span className=\"text-white/60\">Records:</span>\n                            <p className=\"text-white\">{backup.metadata.totalRecords}</p>\n                          </div>\n                        </div>\n                        <div className=\"text-xs text-white/60\">\n                          <span>Compression: {backup.metadata.compressionRatio} | </span>\n                          <span>Encryption: {backup.metadata.encryptionStatus}</span>\n                        </div>\n                      </div>\n\n                      {/* Desktop Layout */}\n                      <div className=\"hidden sm:grid sm:grid-cols-4 gap-4 text-sm\">\n                        <div>\n                          <span className=\"text-white/60\">Date:</span>\n                          <p className=\"text-white\">{new Date(backup.timestamp).toLocaleDateString()}</p>\n                        </div>\n                        <div>\n                          <span className=\"text-white/60\">Time:</span>\n                          <p className=\"text-white\">{new Date(backup.timestamp).toLocaleTimeString()}</p>\n                        </div>\n                        <div>\n                          <span className=\"text-white/60\">Size:</span>\n                          <p className=\"text-white\">{backup.metadata.compressedSize}</p>\n                        </div>\n                        <div>\n                          <span className=\"text-white/60\">Records:</span>\n                          <p className=\"text-white\">{backup.metadata.totalRecords}</p>\n                        </div>\n                      </div>\n                      \n                      <div className=\"hidden sm:block mt-3 text-xs text-white/60\">\n                        <span>Compression: {backup.metadata.compressionRatio} | </span>\n                        <span>Encryption: {backup.metadata.encryptionStatus} | </span>\n                        <span>Checksum: {backup.metadata.integrityChecksum.substring(0, 8)}...</span>\n                      </div>\n                    </div>\n                    \n                    {/* Action Buttons */}\n                    <div className=\"flex justify-center sm:justify-end space-x-2 sm:ml-4\">\n                      <button\n                        onClick={() => handleViewDetails(backup)}\n                        className=\"p-2 text-blue-400 hover:text-blue-300 transition-colors rounded-lg hover:bg-white/10\"\n                        title=\"View Details\"\n                      >\n                        <Eye size={16} />\n                      </button>\n                      <button\n                        onClick={() => handleDownloadBackup(backup)}\n                        className=\"p-2 text-blue-400 hover:text-blue-300 transition-colors rounded-lg hover:bg-white/10\"\n                        title=\"Download Backup\"\n                      >\n                        <Download size={16} />\n                      </button>\n                      <button\n                        onClick={() => handleRestoreBackup(backup)}\n                        className=\"p-2 text-green-400 hover:text-green-300 transition-colors rounded-lg hover:bg-white/10\"\n                        title=\"Restore Backup\"\n                      >\n                        <RefreshCw size={16} />\n                      </button>\n                      <button\n                        onClick={() => handleDeleteBackup(backup)}\n                        className=\"p-2 text-red-400 hover:text-red-300 transition-colors rounded-lg hover:bg-white/10\"\n                        title=\"Delete Backup\"\n                      >\n                        <Trash2 size={16} />\n                      </button>\n                    </div>\n                  </div>\n                </div>\n              ))}\n            </div>\n          )}\n        </div>\n\n        {/* Backup Details Modal */}\n        {isDetailsModalOpen && selectedBackup && (\n          <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4\" onClick={closeModal}>\n            <div className=\"relative bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-xl rounded-3xl p-6 border border-white/30 w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl\" onClick={(e) => e.stopPropagation()}>\n              {/* Animated background elements */}\n              <div className=\"absolute inset-0 bg-gradient-to-br from-blue-500/10 via-purple-500/5 to-indigo-500/10 rounded-3xl\"></div>\n              <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 w-32 h-32 bg-blue-500/20 rounded-full blur-3xl\"></div>\n              <div className=\"absolute bottom-0 right-0 w-24 h-24 bg-purple-500/20 rounded-full blur-2xl\"></div>\n              <div className=\"relative z-10\">\n                <div className=\"flex items-center justify-between mb-4\">\n                  <h3 className=\"text-lg sm:text-xl font-semibold text-white\">Backup Details</h3>\n                  <button onClick={closeModal} className=\"text-white/60 hover:text-white p-1\">\n                    <X size={20} />\n                  </button>\n                </div>\n                <div className=\"space-y-4 text-white/80\">\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4\">\n                    <div>\n                      <span className=\"text-white/60 text-sm\">Backup ID:</span>\n                      <p className=\"text-white text-sm sm:text-base break-all\">{selectedBackup.backupId}</p>\n                    </div>\n                    <div>\n                      <span className=\"text-white/60 text-sm\">Date:</span>\n                      <p className=\"text-white text-sm sm:text-base\">{new Date(selectedBackup.timestamp).toLocaleString()}</p>\n                    </div>\n                    <div>\n                      <span className=\"text-white/60 text-sm\">Original Size:</span>\n                      <p className=\"text-white text-sm sm:text-base\">{selectedBackup.metadata.originalSize}</p>\n                    </div>\n                    <div>\n                      <span className=\"text-white/60 text-sm\">Compressed Size:</span>\n                      <p className=\"text-white text-sm sm:text-base\">{selectedBackup.metadata.compressedSize}</p>\n                    </div>\n                    <div>\n                      <span className=\"text-white/60 text-sm\">Compression Ratio:</span>\n                      <p className=\"text-white text-sm sm:text-base\">{selectedBackup.metadata.compressionRatio}</p>\n                    </div>\n                    <div>\n                      <span className=\"text-white/60 text-sm\">Total Records:</span>\n                      <p className=\"text-white text-sm sm:text-base\">{selectedBackup.metadata.totalRecords}</p>\n                    </div>\n                  </div>\n                  <div>\n                    <span className=\"text-white/60 text-sm\">Integrity Checksum:</span>\n                    <p className=\"text-white font-mono text-xs sm:text-sm break-all\">{selectedBackup.metadata.integrityChecksum}</p>\n                  </div>\n                  <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3 pt-4\">\n                    <button\n                      onClick={() => handleDownloadBackup(selectedBackup)}\n                      className=\"flex items-center justify-center space-x-2 bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-lg transition-colors text-sm\"\n                    >\n                      <Download size={16} />\n                      <span>Download</span>\n                    </button>\n                    <button\n                      onClick={() => handleRestoreBackup(selectedBackup)}\n                      className=\"flex items-center justify-center space-x-2 bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded-lg transition-colors text-sm\"\n                    >\n                      <RefreshCw size={16} />\n                      <span>Restore</span>\n                    </button>\n                    <button\n                      onClick={() => handleDeleteBackup(selectedBackup)}\n                      className=\"flex items-center justify-center space-x-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors text-sm\"\n                    >\n                      <Trash2 size={16} />\n                      <span>Delete</span>\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Delete Confirmation Modal */}\n        {isDeleteModalOpen && backupToDelete && (\n          <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4\" onClick={closeModal}>\n            <div className=\"relative bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-xl rounded-3xl p-6 border border-white/30 w-full max-w-md shadow-2xl\" onClick={(e) => e.stopPropagation()}>\n              {/* Animated background elements */}\n              <div className=\"absolute inset-0 bg-gradient-to-br from-red-500/10 via-purple-500/5 to-blue-500/10 rounded-3xl\"></div>\n              <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 w-32 h-32 bg-red-500/20 rounded-full blur-3xl\"></div>\n              <div className=\"absolute bottom-0 right-0 w-24 h-24 bg-blue-500/20 rounded-full blur-2xl\"></div>\n              <div className=\"relative z-10\">\n                <div className=\"flex items-center space-x-3 mb-4\">\n                  <div className=\"bg-red-500/20 p-2 rounded-lg\">\n                    <AlertCircle className=\"text-red-400\" size={24} />\n                  </div>\n                  <div>\n                    <h3 className=\"text-lg sm:text-xl font-semibold text-white\">Delete Backup</h3>\n                    <p className=\"text-white/60 text-sm\">This action cannot be undone.</p>\n                  </div>\n                </div>\n                <div className=\"text-white mb-6\">\n                  <p>Are you sure you want to delete this backup?</p>\n                  <p className=\"text-white/60 mt-2\">\n                    <strong>Backup ID:</strong> {backupToDelete.backupId}<br />\n                    <strong>Date:</strong> {new Date(backupToDelete.timestamp).toLocaleString()}<br />\n                    <strong>Size:</strong> {backupToDelete.metadata.compressedSize}\n                  </p>\n                </div>\n                <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3\">\n                  <button\n                    onClick={confirmDeleteBackup}\n                    className=\"flex items-center justify-center space-x-2 bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded-lg transition-colors text-sm\"\n                  >\n                    <Trash2 size={16} />\n                    <span>Delete Backup</span>\n                  </button>\n                  <button\n                    onClick={closeModal}\n                    className=\"flex items-center justify-center space-x-2 bg-white/10 hover:bg-white/20 text-white px-4 py-2 rounded-lg transition-colors text-sm\"\n                  >\n                    <span>Cancel</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        {/* Restore Confirmation Modal */}\n        {isRestoreModalOpen && backupToRestore && (\n          <div className=\"fixed inset-0 bg-black/60 backdrop-blur-md flex items-center justify-center z-50 p-4\" onClick={closeModal}>\n            <div className=\"relative bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-xl rounded-3xl p-6 border border-white/30 w-full max-w-md shadow-2xl\" onClick={(e) => e.stopPropagation()}>\n              {/* Animated background elements */}\n              <div className=\"absolute inset-0 bg-gradient-to-br from-green-500/10 via-purple-500/5 to-blue-500/10 rounded-3xl\"></div>\n              <div className=\"absolute top-0 left-1/2 transform -translate-x-1/2 w-32 h-32 bg-green-500/20 rounded-full blur-3xl\"></div>\n              <div className=\"absolute bottom-0 right-0 w-24 h-24 bg-purple-500/20 rounded-full blur-2xl\"></div>\n              <div className=\"relative z-10\">\n                <div className=\"flex items-center space-x-3 mb-4\">\n                  <div className=\"bg-green-500/20 p-2 rounded-lg\">\n                    <RefreshCw className=\"text-green-400\" size={24} />\n                  </div>\n                  <div>\n                    <h3 className=\"text-lg sm:text-xl font-semibold text-white\">Restore Backup</h3>\n                    <p className=\"text-white/60 text-sm\">This will overwrite current data.</p>\n                  </div>\n                </div>\n                <div className=\"text-white mb-6\">\n                  <p>Are you sure you want to restore this backup?</p>\n                  <p className=\"text-white/60 mt-2\">\n                    <strong>Backup ID:</strong> {backupToRestore.backupId}<br />\n                    <strong>Date:</strong> {new Date(backupToRestore.timestamp).toLocaleString()}<br />\n                    <strong>Records:</strong> {backupToRestore.metadata.totalRecords}\n                  </p>\n                  <div className=\"mt-4 p-3 bg-yellow-500/10 border border-yellow-500/20 rounded-lg\">\n                    <p className=\"text-yellow-400 text-sm\">\n                      <strong>Warning:</strong> This will replace all current application data with the backup data.\n                    </p>\n                  </div>\n                </div>\n                <div className=\"flex flex-col sm:flex-row space-y-2 sm:space-y-0 sm:space-x-3\">\n                  <button\n                    onClick={confirmRestoreBackup}\n                    disabled={isLoading}\n                    className=\"flex items-center justify-center space-x-2 bg-green-500 hover:bg-green-600 disabled:bg-gray-500 text-white px-4 py-2 rounded-lg transition-colors text-sm\"\n                  >\n                    {isLoading ? (\n                      <>\n                        <RefreshCw size={16} className=\"animate-spin\" />\n                        <span>Restoring...</span>\n                      </>\n                    ) : (\n                      <>\n                        <RefreshCw size={16} />\n                        <span>Restore Backup</span>\n                      </>\n                    )}\n                  </button>\n                  <button\n                    onClick={closeModal}\n                    disabled={isLoading}\n                    className=\"flex items-center justify-center space-x-2 bg-white/10 hover:bg-white/20 disabled:bg-gray-500 text-white px-4 py-2 rounded-lg transition-colors text-sm\"\n                  >\n                    <span>Cancel</span>\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default AdminBackups;"],"names":["AdminBackups","navigate","useNavigate","backups","setBackups","useState","selectedBackup","setSelectedBackup","isDetailsModalOpen","setIsDetailsModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","isRestoreModalOpen","setIsRestoreModalOpen","backupToDelete","setBackupToDelete","backupToRestore","setBackupToRestore","isLoading","setIsLoading","isMenuOpen","setIsMenuOpen","useEffect","loadBackups","onStorage","e","onBackupsUpdated","createBackupNow","backupId","backupDataObj","jsonString","compressedSize","originalSize","compressionRatio","encrypted","checksum","i","backup","existingBackups","err","storedBackups","error","handleRestoreBackup","confirmRestoreBackup","resolve","backupData","key","handleDeleteBackup","confirmDeleteBackup","updatedBackups","b","handleDownloadBackup","dataStr","dataBlob","url","link","handleViewDetails","closeModal","jsxs","jsx","AdminMenu","ArrowLeft","HardDrive","CheckCircle","sum","Download","RefreshCw","Eye","Trash2","X","AlertCircle","Fragment"],"mappings":"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"}