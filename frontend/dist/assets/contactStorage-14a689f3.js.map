{"version":3,"file":"contactStorage-14a689f3.js","sources":["../../src/utils/contactStorage.ts"],"sourcesContent":["export interface ContactSubmission {\n  id: string;\n  name: string;\n  email: string;\n  subject: string;\n  message: string;\n  timestamp: string;\n  status: 'new' | 'read' | 'replied';\n}\n\nclass ContactStorage {\n  private storageKey = 'contact_submissions';\n\n  // Get all submissions\n  getSubmissions(): ContactSubmission[] {\n    if (typeof window === 'undefined') return [];\n    \n    try {\n      const stored = localStorage.getItem(this.storageKey);\n      return stored ? JSON.parse(stored) : [];\n    } catch (error) {\n      console.error('Error reading contact submissions:', error);\n      return [];\n    }\n  }\n\n  // Add new submission\n  addSubmission(submission: Omit<ContactSubmission, 'id' | 'timestamp' | 'status'>): ContactSubmission {\n    const newSubmission: ContactSubmission = {\n      ...submission,\n      id: this.generateId(),\n      timestamp: new Date().toISOString(),\n      status: 'new'\n    };\n\n    const submissions = this.getSubmissions();\n    submissions.unshift(newSubmission); // Add to beginning\n    \n    try {\n      localStorage.setItem(this.storageKey, JSON.stringify(submissions));\n      if (typeof window !== 'undefined') {\n        window.dispatchEvent(new CustomEvent('contact_submissions_updated'));\n      }\n    } catch (error) {\n      console.error('Error saving contact submission:', error);\n    }\n\n    return newSubmission;\n  }\n\n  // Update submission status\n  updateSubmissionStatus(id: string, status: ContactSubmission['status']): void {\n    const submissions = this.getSubmissions();\n    const submission = submissions.find(s => s.id === id);\n    \n    if (submission) {\n      submission.status = status;\n      try {\n        localStorage.setItem(this.storageKey, JSON.stringify(submissions));\n        if (typeof window !== 'undefined') {\n          window.dispatchEvent(new CustomEvent('contact_submissions_updated'));\n        }\n      } catch (error) {\n        console.error('Error updating submission status:', error);\n      }\n    }\n  }\n\n  // Delete submission\n  deleteSubmission(id: string): void {\n    const submissions = this.getSubmissions();\n    const filtered = submissions.filter(s => s.id !== id);\n    \n    try {\n      localStorage.setItem(this.storageKey, JSON.stringify(filtered));\n      if (typeof window !== 'undefined') {\n        window.dispatchEvent(new CustomEvent('contact_submissions_updated'));\n      }\n    } catch (error) {\n      console.error('Error deleting submission:', error);\n    }\n  }\n\n  // Get submission count by status\n  getSubmissionCounts() {\n    const submissions = this.getSubmissions();\n    return {\n      total: submissions.length,\n      new: submissions.filter(s => s.status === 'new').length,\n      read: submissions.filter(s => s.status === 'read').length,\n      replied: submissions.filter(s => s.status === 'replied').length\n    };\n  }\n\n  // Get recent submissions (last 10)\n  getRecentSubmissions(count: number = 10): ContactSubmission[] {\n    return this.getSubmissions().slice(0, count);\n  }\n\n  private generateId(): string {\n    return Date.now().toString(36) + Math.random().toString(36).substr(2);\n  }\n}\n\nexport const contactStorage = new ContactStorage();"],"names":["ContactStorage","__publicField","stored","error","submission","newSubmission","submissions","id","status","s","filtered","count","contactStorage"],"mappings":"wKAUA,MAAMA,CAAe,CAArB,cACUC,EAAA,kBAAa,uBAGrB,gBAAsC,CACpC,GAAI,OAAO,OAAW,IAAa,MAAO,GAEtC,GAAA,CACF,MAAMC,EAAS,aAAa,QAAQ,KAAK,UAAU,EACnD,OAAOA,EAAS,KAAK,MAAMA,CAAM,EAAI,CAAA,QAC9BC,EAAO,CACN,eAAA,MAAM,qCAAsCA,CAAK,EAClD,EACT,CACF,CAGA,cAAcC,EAAuF,CACnG,MAAMC,EAAmC,CACvC,GAAGD,EACH,GAAI,KAAK,WAAW,EACpB,UAAW,IAAI,KAAK,EAAE,YAAY,EAClC,OAAQ,KAAA,EAGJE,EAAc,KAAK,iBACzBA,EAAY,QAAQD,CAAa,EAE7B,GAAA,CACF,aAAa,QAAQ,KAAK,WAAY,KAAK,UAAUC,CAAW,CAAC,EAC7D,OAAO,OAAW,KACpB,OAAO,cAAc,IAAI,YAAY,6BAA6B,CAAC,QAE9DH,EAAO,CACN,QAAA,MAAM,mCAAoCA,CAAK,CACzD,CAEO,OAAAE,CACT,CAGA,uBAAuBE,EAAYC,EAA2C,CACtE,MAAAF,EAAc,KAAK,iBACnBF,EAAaE,EAAY,KAAUG,GAAAA,EAAE,KAAOF,CAAE,EAEpD,GAAIH,EAAY,CACdA,EAAW,OAASI,EAChB,GAAA,CACF,aAAa,QAAQ,KAAK,WAAY,KAAK,UAAUF,CAAW,CAAC,EAC7D,OAAO,OAAW,KACpB,OAAO,cAAc,IAAI,YAAY,6BAA6B,CAAC,QAE9DH,EAAO,CACN,QAAA,MAAM,oCAAqCA,CAAK,CAC1D,CACF,CACF,CAGA,iBAAiBI,EAAkB,CAEjC,MAAMG,EADc,KAAK,iBACI,OAAYD,GAAAA,EAAE,KAAOF,CAAE,EAEhD,GAAA,CACF,aAAa,QAAQ,KAAK,WAAY,KAAK,UAAUG,CAAQ,CAAC,EAC1D,OAAO,OAAW,KACpB,OAAO,cAAc,IAAI,YAAY,6BAA6B,CAAC,QAE9DP,EAAO,CACN,QAAA,MAAM,6BAA8BA,CAAK,CACnD,CACF,CAGA,qBAAsB,CACd,MAAAG,EAAc,KAAK,iBAClB,MAAA,CACL,MAAOA,EAAY,OACnB,IAAKA,EAAY,UAAYG,EAAE,SAAW,KAAK,EAAE,OACjD,KAAMH,EAAY,UAAYG,EAAE,SAAW,MAAM,EAAE,OACnD,QAASH,EAAY,UAAYG,EAAE,SAAW,SAAS,EAAE,MAAA,CAE7D,CAGA,qBAAqBE,EAAgB,GAAyB,CAC5D,OAAO,KAAK,eAAiB,EAAA,MAAM,EAAGA,CAAK,CAC7C,CAEQ,YAAqB,CAC3B,OAAO,KAAK,IAAA,EAAM,SAAS,EAAE,EAAI,KAAK,OAAA,EAAS,SAAS,EAAE,EAAE,OAAO,CAAC,CACtE,CACF,CAEa,MAAAC,EAAiB,IAAIZ"}