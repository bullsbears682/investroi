var a=Object.defineProperty;var u=(n,s,t)=>s in n?a(n,s,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[s]=t;var r=(n,s,t)=>(u(n,typeof s!="symbol"?s+"":s,t),t);class c{constructor(){r(this,"storageKey","contact_submissions")}getSubmissions(){if(typeof window>"u")return[];try{const s=localStorage.getItem(this.storageKey);return s?JSON.parse(s):[]}catch(s){return console.error("Error reading contact submissions:",s),[]}}addSubmission(s){const t={...s,id:this.generateId(),timestamp:new Date().toISOString(),status:"new"},i=this.getSubmissions();i.unshift(t);try{localStorage.setItem(this.storageKey,JSON.stringify(i)),typeof window<"u"&&window.dispatchEvent(new CustomEvent("contact_submissions_updated"))}catch(e){console.error("Error saving contact submission:",e)}return t}updateSubmissionStatus(s,t){const i=this.getSubmissions(),e=i.find(o=>o.id===s);if(e){e.status=t;try{localStorage.setItem(this.storageKey,JSON.stringify(i)),typeof window<"u"&&window.dispatchEvent(new CustomEvent("contact_submissions_updated"))}catch(o){console.error("Error updating submission status:",o)}}}deleteSubmission(s){const i=this.getSubmissions().filter(e=>e.id!==s);try{localStorage.setItem(this.storageKey,JSON.stringify(i)),typeof window<"u"&&window.dispatchEvent(new CustomEvent("contact_submissions_updated"))}catch(e){console.error("Error deleting submission:",e)}}getSubmissionCounts(){const s=this.getSubmissions();return{total:s.length,new:s.filter(t=>t.status==="new").length,read:s.filter(t=>t.status==="read").length,replied:s.filter(t=>t.status==="replied").length}}getRecentSubmissions(s=10){return this.getSubmissions().slice(0,s)}generateId(){return Date.now().toString(36)+Math.random().toString(36).substr(2)}}const g=new c;export{g as c};
//# sourceMappingURL=contactStorage-14a689f3.js.map
